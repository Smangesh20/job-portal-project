{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/toolbar\";\nimport * as i7 from \"@angular/material/divider\";\nimport * as i8 from \"@angular/material/menu\";\nimport * as i9 from \"@angular/material/tabs\";\nimport * as i10 from \"./job-search/job-search.component\";\nimport * as i11 from \"./profile/profile.component\";\nimport * as i12 from \"./applications/applications.component\";\nfunction DashboardComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"app-job-search\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"app-applications\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DashboardComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"app-profile\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(authService, router, route, snackBar) {\n      this.authService = authService;\n      this.router = router;\n      this.route = route;\n      this.snackBar = snackBar;\n      this.currentUser = null;\n      this.selectedTabIndex = 0;\n    }\n    ngOnInit() {\n      // Check authentication\n      if (!this.authService.isAuthenticated()) {\n        this.router.navigate(['/auth/signin']);\n        return;\n      }\n      // Get current user\n      this.currentUser = this.authService.getCurrentUser();\n      // Subscribe to user changes\n      this.authService.currentUser$.subscribe(user => {\n        this.currentUser = user;\n        if (!user) {\n          this.router.navigate(['/auth/signin']);\n        }\n      });\n      // Check for OAuth callback parameters\n      this.route.queryParams.subscribe(params => {\n        if (params['google_success'] === 'true') {\n          this.handleGoogleCallback(params);\n        }\n      });\n    }\n    handleGoogleCallback(params) {\n      const action = params['action'];\n      const userEmail = params['user_email'];\n      const userName = params['user_name'];\n      if (action === 'signup') {\n        this.snackBar.open(`Welcome to AskYaCham, ${userName || userEmail}!`, 'Close', {\n          duration: 5000,\n          horizontalPosition: 'center',\n          verticalPosition: 'top',\n          panelClass: ['google-success-snackbar']\n        });\n      } else if (action === 'signin') {\n        this.snackBar.open(`Welcome back, ${userName || userEmail}!`, 'Close', {\n          duration: 3000,\n          horizontalPosition: 'center',\n          verticalPosition: 'top',\n          panelClass: ['google-success-snackbar']\n        });\n      }\n      // Clear URL parameters\n      this.router.navigate(['/dashboard'], {\n        replaceUrl: true\n      });\n    }\n    onTabChange(index) {\n      this.selectedTabIndex = index;\n      // Navigate based on tab\n      switch (index) {\n        case 0:\n          this.router.navigate(['/dashboard/jobs']);\n          break;\n        case 1:\n          this.router.navigate(['/dashboard/applications']);\n          break;\n        case 2:\n          this.router.navigate(['/dashboard/profile']);\n          break;\n      }\n    }\n    navigateToProfile() {\n      this.router.navigate(['/dashboard/profile']);\n    }\n    navigateToSettings() {\n      this.router.navigate(['/dashboard/settings']);\n    }\n    logout() {\n      this.authService.logout();\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 45,\n        vars: 6,\n        consts: [[\"userMenu\", \"matMenu\"], [1, \"dashboard-container\"], [1, \"dashboard-header\"], [1, \"header-content\"], [1, \"header-left\"], [\"src\", \"assets/askyacham-logo.svg\", \"alt\", \"AskYaCham\", 1, \"logo\"], [1, \"brand-name\"], [1, \"header-center\"], [3, \"selectedIndexChange\", \"selectedIndex\"], [\"label\", \"Jobs\"], [\"mat-tab-content\", \"\"], [\"label\", \"Applications\"], [\"label\", \"Profile\"], [1, \"header-right\"], [\"mat-icon-button\", \"\", 1, \"user-menu-button\", 3, \"matMenuTriggerFor\"], [1, \"user-avatar\", 3, \"src\", \"alt\"], [1, \"user-menu\"], [1, \"user-menu-header\"], [1, \"user-info\"], [1, \"user-name\"], [1, \"user-email\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"dashboard-content\"], [1, \"tab-content\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-toolbar\", 2)(2, \"div\", 3)(3, \"div\", 4);\n            i0.ɵɵelement(4, \"img\", 5);\n            i0.ɵɵelementStart(5, \"span\", 6);\n            i0.ɵɵtext(6, \"AskYaCham\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 7)(8, \"mat-tab-group\", 8);\n            i0.ɵɵtwoWayListener(\"selectedIndexChange\", function DashboardComponent_Template_mat_tab_group_selectedIndexChange_8_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.selectedTabIndex, $event) || (ctx.selectedTabIndex = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"selectedIndexChange\", function DashboardComponent_Template_mat_tab_group_selectedIndexChange_8_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onTabChange($event));\n            });\n            i0.ɵɵelementStart(9, \"mat-tab\", 9);\n            i0.ɵɵtemplate(10, DashboardComponent_ng_template_10_Template, 2, 0, \"ng-template\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"mat-tab\", 11);\n            i0.ɵɵtemplate(12, DashboardComponent_ng_template_12_Template, 2, 0, \"ng-template\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"mat-tab\", 12);\n            i0.ɵɵtemplate(14, DashboardComponent_ng_template_14_Template, 2, 0, \"ng-template\", 10);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"div\", 13)(16, \"button\", 14);\n            i0.ɵɵelement(17, \"img\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"mat-menu\", 16, 0)(20, \"div\", 17)(21, \"div\", 18)(22, \"div\", 19);\n            i0.ɵɵtext(23);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"div\", 20);\n            i0.ɵɵtext(25);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelement(26, \"mat-divider\");\n            i0.ɵɵelementStart(27, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_27_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.navigateToProfile());\n            });\n            i0.ɵɵelementStart(28, \"mat-icon\");\n            i0.ɵɵtext(29, \"person\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"span\");\n            i0.ɵɵtext(31, \"Profile\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_32_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.navigateToSettings());\n            });\n            i0.ɵɵelementStart(33, \"mat-icon\");\n            i0.ɵɵtext(34, \"settings\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"span\");\n            i0.ɵɵtext(36, \"Settings\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(37, \"mat-divider\");\n            i0.ɵɵelementStart(38, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_38_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.logout());\n            });\n            i0.ɵɵelementStart(39, \"mat-icon\");\n            i0.ɵɵtext(40, \"logout\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(41, \"span\");\n            i0.ɵɵtext(42, \"Sign out\");\n            i0.ɵɵelementEnd()()()()()();\n            i0.ɵɵelementStart(43, \"div\", 22);\n            i0.ɵɵelement(44, \"router-outlet\");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            const userMenu_r2 = i0.ɵɵreference(19);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtwoWayProperty(\"selectedIndex\", ctx.selectedTabIndex);\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"matMenuTriggerFor\", userMenu_r2);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"src\", (ctx.currentUser == null ? null : ctx.currentUser.picture) || \"assets/default-avatar.svg\", i0.ɵɵsanitizeUrl)(\"alt\", ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.name);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.currentUser == null ? null : ctx.currentUser.email);\n          }\n        },\n        dependencies: [i2.RouterOutlet, i4.MatIconButton, i5.MatIcon, i6.MatToolbar, i7.MatDivider, i8.MatMenu, i8.MatMenuItem, i8.MatMenuTrigger, i9.MatTab, i9.MatTabGroup, i10.JobSearchComponent, i11.ProfileComponent, i12.ApplicationsComponent],\n        styles: [\".dashboard-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#f8f9fa}.dashboard-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e8eaed;padding:0;box-shadow:0 1px 2px #3c40434d,0 1px 3px 1px #3c404326;z-index:1000}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1200px;margin:0 auto;padding:0 16px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo[_ngcontent-%COMP%]{height:32px;width:32px}.brand-name[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:20px;font-weight:500;color:#202124}.header-center[_ngcontent-%COMP%]{flex:1;max-width:600px;margin:0 32px}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.user-menu-button[_ngcontent-%COMP%]{padding:4px}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;border:2px solid #e8eaed}.user-menu[_ngcontent-%COMP%]{min-width:280px}.user-menu-header[_ngcontent-%COMP%]{padding:16px;background:#f8f9fa}.user-info[_ngcontent-%COMP%]{text-align:center}.user-name[_ngcontent-%COMP%]{font-family:Google Sans,sans-serif;font-size:16px;font-weight:500;color:#202124;margin-bottom:4px}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#5f6368}.dashboard-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px}.tab-content[_ngcontent-%COMP%]{padding:0}  .mat-mdc-tab-group{border-bottom:none}  .mat-mdc-tab-header{border-bottom:1px solid #e8eaed}  .mat-mdc-tab{font-family:Google Sans,sans-serif;font-size:14px;font-weight:500;color:#5f6368;text-transform:none;letter-spacing:.25px;min-width:120px}  .mat-mdc-tab.mdc-tab--active{color:#1a73e8}  .mat-mdc-tab .mdc-tab__indicator{background-color:#1a73e8}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:0 12px}.header-center[_ngcontent-%COMP%]{margin:0 16px}.brand-name[_ngcontent-%COMP%]{display:none}  .mat-mdc-tab{min-width:80px;font-size:12px}.dashboard-content[_ngcontent-%COMP%]{padding:16px}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{display:none}.header-center[_ngcontent-%COMP%]{margin:0 8px}  .mat-mdc-tab{min-width:60px}}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}